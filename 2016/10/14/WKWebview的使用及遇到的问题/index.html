<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>WKWebview的使用及遇到的问题 | ongfei | 一步一步往上爬</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="今天试了试WKWebView,试出来很多问题.记录如下
初始化方法如下:
- (instancetype)initWithFrame:(CGRect)frame configuration:(WKWebViewConfiguration *)configuration NS_DESIGNATED_INITIALIZER;
4、WKWebView的一些简单属性的介绍
backForwardList">
<meta property="og:type" content="article">
<meta property="og:title" content="WKWebview的使用及遇到的问题">
<meta property="og:url" content="http://yoursite.com/2016/10/14/WKWebview的使用及遇到的问题/index.html">
<meta property="og:site_name" content="ongfei | 一步一步往上爬">
<meta property="og:description" content="今天试了试WKWebView,试出来很多问题.记录如下
初始化方法如下:
- (instancetype)initWithFrame:(CGRect)frame configuration:(WKWebViewConfiguration *)configuration NS_DESIGNATED_INITIALIZER;
4、WKWebView的一些简单属性的介绍
backForwardList">
<meta property="og:updated_time" content="2016-10-24T04:24:48.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="WKWebview的使用及遇到的问题">
<meta name="twitter:description" content="今天试了试WKWebView,试出来很多问题.记录如下
初始化方法如下:
- (instancetype)initWithFrame:(CGRect)frame configuration:(WKWebViewConfiguration *)configuration NS_DESIGNATED_INITIALIZER;
4、WKWebView的一些简单属性的介绍
backForwardList">
  
    <link rel="alternative" href="/atom.xml" title="ongfei | 一步一步往上爬" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://imgsrc.baidu.com/forum/pic/item/6b224f4a20a446230c01a1839822720e0df3d703.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ongfei</a></h1>
		</hgroup>

		
		<p class="header-subtitle">ongfei | 一步一步往上爬</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/ongfei" title="github">github</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">ongfei</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://imgsrc.baidu.com/forum/pic/item/6b224f4a20a446230c01a1839822720e0df3d703.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">ongfei</h1>
			</hgroup>
			
			<p class="header-subtitle">ongfei | 一步一步往上爬</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ongfei" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-WKWebview的使用及遇到的问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      WKWebview的使用及遇到的问题
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天试了试WKWebView,试出来很多问题.记录如下</p>
<p>初始化方法如下:</p>
<pre><code>- (instancetype)initWithFrame:(CGRect)frame configuration:(WKWebViewConfiguration *)configuration NS_DESIGNATED_INITIALIZER;
</code></pre><p>4、WKWebView的一些简单属性的介绍</p>
<pre><code>backForwardList            浏览历史
title                      网页标题             支持KVO
URL                        正在显示的URL        支持KVO
loading                    是否正在加载          支持KVO
estimatedProgress          加载进度             支持KVO
canGoBack  canGoForward    能否后退 前进         支持KVO
reload                     重新加载
stopLoading                停止加载
allowsBackForwardNavigationGestures  是否允许侧滑返回上一页
</code></pre><p>5、WKWebView的加载方法跟UIWebView基本一样</p>
<pre><code>- loadRequest:
- loadHTMLString:
- loadData:
</code></pre><p>WKWebViewUIDelegate 代理方法</p>
<pre><code>//当需要打开一个新窗口的时候的调用，如a标签的target=&apos;_blank&apos;，需要返回一个新的Webview
- (nullable WKWebView )webView:(WKWebView )webView createWebViewWithConfiguration:(WKWebViewConfiguration )configuration forNavigationAction:(WKNavigationAction )navigationAction windowFeatures:(WKWindowFeatures )windowFeatures

以下三个类似alert的代理，一定要调用completionHandler(),这个回调，告诉webview结果

//webview上需要弹出alert的时候调用此方法，如果不实现此方法，则webview的alert是显示不出来,alert类似于只有确定按钮的UIAlertView
- (void)webView:(WKWebView )webView runJavaScriptAlertPanelWithMessage:(NSString )message initiatedByFrame:(WKFrameInfo )frame completionHandler:(void (^)(void))completionHandler

//webview上需要弹出confirm的时候调用此方法，如果不实现此方法，则webview的confirm是显示不出来,confirm类似于有确定按钮和取消按钮的UIAlertView
- (void)webView:(WKWebView )webView runJavaScriptConfirmPanelWithMessage:(NSString )message initiatedByFrame:(WKFrameInfo )frame completionHandler:(void (^)(BOOL result))completionHandler

// webview上需要弹出prompt的时候调用此方法，如果不实现此方法，则webview的prompt是显示不出来,prompt类似于带一个textField的UIAlertView。defaultText相当于textField的placeholed
- (void)webView:(WKWebView )webView runJavaScriptTextInputPanelWithPrompt:(NSString )prompt defaultText:(nullable NSString )defaultText initiatedByFrame:(WKFrameInfo )frame completionHandler:(void (^)(NSString  __nullable result))completionHandler

//window.close() 的时候调用
- (void)webViewDidClose:(WKWebView *)webView
</code></pre><p>WKWebViewNavigationDelegate代理方法</p>
<pre><code>//决定是否允许发起这个请求
- (void)webView:(WKWebView )webView decidePolicyForNavigationAction:(WKNavigationAction )navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler

//在webview有响应之后，再次决定是否允许这个请求
- (void)webView:(WKWebView )webView decidePolicyForNavigationResponse:(WKNavigationResponse )navigationResponse decisionHandler:(void (^)(WKNavigationResponsePolicy))decisionHandle

//webview开始加载的时候调用
- (void)webView:(WKWebView )webView didStartProvisionalNavigation:(null_unspecified WKNavigation )navigation

//webview内容已经加载结束，但是上面的某些资源比如图片加载之前调用
- (void)webView:(WKWebView )webView didCommitNavigation:(null_unspecified WKNavigation )navigation

//webview加载结束的时候调用
- (void)webView:(WKWebView )webView didCommitNavigation:(null_unspecified WKNavigation )navigation

//webview加载失败的时候调用
- (void)webView:(WKWebView )webView didFailProvisionalNavigation:(null_unspecified WKNavigation )navigation withError:(NSError )error

//webview在commit过程中失败的时候调用，例如在didCommitNavigation这个代理方法中调用webview的stopLoading方法
- (void)webView:(WKWebView )webView didFailNavigation:(null_unspecified WKNavigation )navigation withError:(NSError )error
</code></pre><p>WKScriptMessageHandler</p>
<pre><code>//收到JavaScript回调的时候调用
- (void)userContentController:(WKUserContentController )userContentController didReceiveScriptMessage:(WKScriptMessage )message
</code></pre><h3 id="WKWebViewConfiguration里面有个userContentController。可通过它为webview注入javaScript代码。并且可以添加监听javaScript的回调。"><a href="#WKWebViewConfiguration里面有个userContentController。可通过它为webview注入javaScript代码。并且可以添加监听javaScript的回调。" class="headerlink" title="WKWebViewConfiguration里面有个userContentController。可通过它为webview注入javaScript代码。并且可以添加监听javaScript的回调。"></a>WKWebViewConfiguration里面有个userContentController。可通过它为webview注入javaScript代码。并且可以添加监听javaScript的回调。</h3><pre><code>WKWebViewConfiguration *configuration = [[WKWebViewConfiguration alloc]init];

WKUserScript *userScript = [[WKUserScript alloc]initWithSource:@&quot;js代码&quot; injectionTime:WKUserScriptInjectionTimeAtDocumentStart forMainFrameOnly:NO];

[configuration.userContentController addUserScript:userScript];
</code></pre><h5 id="OC执行JS代码：调用JS代码"><a href="#OC执行JS代码：调用JS代码" class="headerlink" title="OC执行JS代码：调用JS代码"></a>OC执行JS代码：调用JS代码</h5><pre><code>- (void)evaluateJavaScript:(NSString *)javaScriptString completionHandler:(void (^)(id, NSError *))completionHandler;
//completionHandler 拥有两个参数，一个是返回错误，一个可以返回执行脚本后的返回值
</code></pre><h5 id="JS调用App注册过的方法"><a href="#JS调用App注册过的方法" class="headerlink" title="JS调用App注册过的方法"></a>JS调用App注册过的方法</h5><p>再WKWebView里面注册供JS调用的方法，是通过WKUserContentController类下面的方法：</p>
<pre><code>- (void)addScriptMessageHandler:(id &lt;WKScriptMessageHandler&gt;)scriptMessageHandler name:(NSString *)name;
</code></pre><p>scriptMessageHandler是代理回调，JS调用name方法后，OC会调用scriptMessageHandler指定的对象。</p>
<p>JS在调用OC注册方法的时候要用下面的方式：</p>
<pre><code>window.webkit.messageHandlers.&lt;name&gt;.postMessage(&lt;messageBody&gt;)
</code></pre><p>注意，name(方法名)是放在中间的，messageBody只能是一个对象，如果要传多个值，需要封装成数组，或者字典。整个示例如下：</p>
<p>//OC注册供JS调用的方法</p>
<pre><code>[[_webView configuration].userContentController addScriptMessageHandler:self name:@&quot;closeMe&quot;];
</code></pre><p>//OC在JS调用方法做的处理</p>
<pre><code>- (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message
{
  NSLog(@&quot;JS 调用了 %@ 方法，传回参数 %@&quot;,message.name,message.body);
}
</code></pre><p>//JS调用</p>
<pre><code>window.webkit.messageHandlers.closeMe.postMessage(null);
</code></pre><p>如果你在self的dealloc打个断点，会发现self没有释放！这显然是不行的！谷歌后看到一种解决方法，如下：</p>
<pre><code>@interface WeakScriptMessageDelegate : NSObject&lt;WKScriptMessageHandler&gt;

@property (nonatomic, weak) id&lt;WKScriptMessageHandler&gt; scriptDelegate;

- (instancetype)initWithDelegate:(id&lt;WKScriptMessageHandler&gt;)scriptDelegate;

@end

@implementation     WeakScriptMessageDelegate

- (instancetype)initWithDelegate:(id&lt;WKScriptMessageHandler&gt;)scriptDelegate
{
  self = [super init];
  if (self) {
     _scriptDelegate = scriptDelegate;
    }
   return self;
}

- (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message
{
   [self.scriptDelegate    userContentController:userContentController didReceiveScriptMessage:message];
}

@end
</code></pre><p>思路是另外创建一个代理对象，然后通过代理对象回调指定的self，</p>
<pre><code>WKUserContentController *userContentController = [[WKUserContentController alloc] init];    
[userContentController addScriptMessageHandler:[[WeakScriptMessageDelegate alloc] initWithDelegate:self] name:@&quot;closeMe&quot;];
</code></pre><p>运行代码，self释放了，WeakScriptMessageDelegate却没有释放啊啊啊！<br>还需在self的dealloc里面 添加这样一句代码：</p>
<pre><code>[[_webView configuration].userContentController removeScriptMessageHandlerForName:@&quot;closeMe&quot;];
</code></pre><hr>
<hr>
<hr>
<h3 id="坑-—-gt-页面提示没登陆-或者打开网页白屏-下面做出解答"><a href="#坑-—-gt-页面提示没登陆-或者打开网页白屏-下面做出解答" class="headerlink" title="坑 —&gt; 页面提示没登陆 或者打开网页白屏 下面做出解答"></a>坑 —&gt; 页面提示没登陆 或者打开网页白屏 下面做出解答</h3><h3 id="关于Cookie"><a href="#关于Cookie" class="headerlink" title="关于Cookie"></a>关于Cookie</h3><p>同一个应用，不同UIWebView之间的Cookie是自动同步的。它们都是保存在NSHTTPCookieStorage中。 当UIWebView加载一个URL的时候，在加载完成时候，这个URL response中包含的cookie会自动以NSHttpCookie的形式保存到 NSHTTPCookieStorage中。同时，如果在http response中，对cookie进行更新或者删除的话，其结果也会直接反应到NSHTTPCookieStorage 存储的cookie数据中。</p>
<pre><code>//获取保存的cookie
NSHTTPCookieStorage *storage = [NSHTTPCookieStorage sharedHTTPCookieStorage]; 
//设置
[storage setCookies:cookies forURL:url mainDocumentURL:nil] 
//删除
[storage deleteCookie:cookie]
</code></pre><h3 id="WKWebView-cookie同步"><a href="#WKWebView-cookie同步" class="headerlink" title="WKWebView cookie同步"></a>WKWebView cookie同步</h3><p>WKWebView的cookie并不会再加载url后自动保存到NSHTTPCookieStorage中。</p>
<p>原因是因为现在WKWebView会忽视默认的网络存储， NSURLCache, NSHTTPCookieStorage, NSCredentialStorage。 目前是这样的，WKWebView有自己的进程，同样也有自己的存储空间用来存储cookie和cache， 其他的网络类如NSURLConnection是无法访问到的。 同时WKWebView发起的资源请求也是不经过NSURLProtocol的，导致无法自定义请求。</p>
<p>同一个应用，不同WKWebView之间的cookie同步，可以通过使用同一个WKProcessPool实现cookie的同步。</p>
<pre><code>1.创建ProcessPool的单例,来管理 WKProcessPool.
2. WKWebViewConfiguration *cofi = [[WKWebViewConfiguration alloc] init];
cofi.processPool = [ProcessPool share];
</code></pre><h4 id="获取Cookie"><a href="#获取Cookie" class="headerlink" title="获取Cookie:"></a>获取Cookie:</h4><pre><code>NSMutableString *cookieStr = [NSMutableString string];

for (NSHTTPCookie *cookie in NSHTTPCookieStorage.sharedHTTPCookieStorage.cookies) {
    [cookieStr appendString:[NSString stringWithFormat:@&quot;%@=%@&quot;,cookie.name,cookie.value]];
}
NSMutableURLRequest *requset = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@&quot;www.xxxx.com&quot;]];
[requset addValue:cookieStr forHTTPHeaderField:@&quot;Cookie&quot;];

[self.webV loadRequest:requset];


更多可以去查看stackoverflow上回答：http://stackoverflow.com/questions/26573137/can-i-set-the-cookies-to-be-used-by-a-wkwebview/26577303#26577303
</code></pre><h5 id="以下方法来自网络"><a href="#以下方法来自网络" class="headerlink" title="以下方法来自网络"></a>以下方法来自网络</h5><pre><code>+ (NSString *)cookiesForURLString:(NSString *)str{
NSArray *cookies = [[NSHTTPCookieStorage sharedHTTPCookieStorage] cookiesForURL:[NSURL URLWithString:str]]; // 这里的HOST是你web服务器的域名地址
// 比如你之前登录的网站地址是abc.com（当然前面要加http://，如果你服务器需要端口号也可以加上端口号），那么这里的HOST就是http://abc.com

// 设置header，通过遍历cookies来一个一个的设置header
for (NSHTTPCookie *cookie in cookies){

    // cookiesWithResponseHeaderFields方法，需要为URL设置一个cookie为NSDictionary类型的header，注意NSDictionary里面的forKey需要是@&quot;Set-Cookie&quot;
    NSArray *headeringCookie = [NSHTTPCookie cookiesWithResponseHeaderFields:
                                [NSDictionary dictionaryWithObject:
                                 [[NSString alloc] initWithFormat:@&quot;%@=%@&quot;,[cookie name],[cookie value]]
                                                            forKey:@&quot;Set-Cookie&quot;]
                                                                      forURL:[NSURL URLWithString:str]];

    // 通过setCookies方法，完成设置，这样只要一访问URL为HOST的网页时，会自动附带上设置好的header
    [[NSHTTPCookieStorage sharedHTTPCookieStorage] setCookies:headeringCookie
                                                       forURL:[NSURL URLWithString:str]
                                              mainDocumentURL:nil];
}
return str;
}    
</code></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/14/WKWebview的使用及遇到的问题/" class="archive-article-date">
  	<time datetime="2016-10-14T07:46:10.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-14</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/iOS/">iOS</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2016/10/21/利用Javascript去操作UIWebView的内容/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          利用Javascript去操作UIWebView的内容
        
      </div>
    </a>
  
  
    <a href="/2016/10/10/iOS10-JPush/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">iOS10 JPush</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>









      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 ongfei
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/JPush/" style="font-size: 10px;">JPush</a> <a href="/tags/Runtime/" style="font-size: 10px;">Runtime</a> <a href="/tags/Xcode/" style="font-size: 20px;">Xcode</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/xcode/" style="font-size: 10px;">xcode</a> <a href="/tags/网站/" style="font-size: 10px;">网站</a> <a href="/tags/谓词/" style="font-size: 10px;">谓词</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devtang.com">唐巧的技术博客</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.liaoxuefeng.com">廖雪峰的官方网站</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://baixin.io/archive/">潘柏信个人站</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devzeng.com/#blog">曾静的技术博客</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">我要一步一步往上爬&lt;br&gt;等待阳光静静看着它的脸&lt;br&gt;小小的天 有大大的梦想&lt;br&gt;总有一天我有属于我的天</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>